(this["webpackJsonploop-nation"]=this["webpackJsonploop-nation"]||[]).push([[0],{15:function(e,t,a){},40:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(31),i=a.n(s),l=(a(40),a(4)),r=(a(15),a(10)),o=a(22);a(41),a(54),a(53);o.a.initializeApp({apiKey:"AIzaSyAYNwuw2-lh9MA1gEkqN3x8llMTn-azEZc",authDomain:"loopnation.firebaseapp.com",projectId:"loopnation",storageBucket:"loopnation.appspot.com",messagingSenderId:"1033079666958",appId:"1:1:1033079666958:web:16a66ca9958daca1beff5f"});var j=o.a,u=o.a.auth(),d=o.a.firestore(),b=a(16),O=a(33),h=a.n(O),p=a(1);function f(e){var t=e.id,a=e.url,n=e.name,s=e.author,i=e.genre,o=e.bpm,j=e.index,u=e.audioKey,O=e.scale,f=e.likes,x=e.setAudioData,m=e.audioData,g=e.profileInfo,v=e.likesArray,N=e.setLikesArray,y=Object(c.useRef)(null),k=Object(c.useRef)(null),S=Object(c.useRef)(null),w=Object(c.useState)(!1),I=Object(l.a)(w,2),C=I[0],D=I[1],F=Object(c.useState)(1),L=Object(l.a)(F,2),A=L[0],R=L[1],E=Object(c.useState)(),P=Object(l.a)(E,2),U=P[0],z=P[1],B=Object(c.useState)(),M=Object(l.a)(B,2),T=M[0],G=M[1],H=Object(c.useState)(!1),K=Object(l.a)(H,2),J=K[0],_=(K[1],d.collection("likes").doc(g.username)),W=d.collection("audios").doc(t);Object(c.useEffect)((function(){D(!1);var e={container:y.current,waveColor:"white",progressColor:"#296C96",barWidth:2,barRadius:1,barGap:2,responsive:!0,height:80,normalize:!0,partialRender:!0};k.current=h.a.create(e),k.current.load(a),k.current.on("ready",(function(){if(k.current){k.current.setVolume(A),R(A),z(t(k.current.getDuration()));var e=t(k.current.getCurrentTime());G(e)}})),k.current.on("audioprocess",(function(){if(k.current){var e=t(k.current.getCurrentTime());G(e)}}));var t=function(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return("0"+t).slice(-2)+":"+("0"+a).slice(-2)};return k.current.on("finish",(function(){D(!1)})),function(){return k.current.destroy()}}),[a]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"player-shadow",children:Object(p.jsxs)("div",{className:"player-bg",children:[Object(p.jsxs)("div",{className:"player-main",children:[Object(p.jsxs)("div",{className:"player",children:[Object(p.jsx)("div",{className:"controls",children:Object(p.jsx)("button",{onClick:function(){D(!C),k.current.playPause()},onBlur:function(){D(!1),k.current.pause()},children:C?Object(p.jsx)("i",{className:"fas fa-pause-circle fa-3x"}):Object(p.jsx)("i",{className:"fas fa-play-circle fa-3x"})})}),Object(p.jsx)("div",{id:"waveform",ref:y}),Object(p.jsx)("a",{href:a,target:"_blank",download:n,children:Object(p.jsx)("button",{className:"controls download-btn",children:Object(p.jsx)("i",{className:"fas fa-arrow-alt-circle-down fa-2x"})})})]}),Object(p.jsxs)("div",{className:"genre",children:[Object(p.jsx)("p",{children:T}),Object(p.jsx)("p",{children:i}),Object(p.jsx)("p",{children:U})]})]}),Object(p.jsxs)("div",{className:"player-info",children:[Object(p.jsxs)("div",{className:"player-text",children:[Object(p.jsxs)("div",{className:"audio-tags",children:["No Key"==u?"":Object(p.jsx)("h3",{children:u+(O||"")}),Object(p.jsx)("h3",{children:o+" BPM"})]}),Object(p.jsxs)("div",{className:"title-author",children:[Object(p.jsx)("a",{href:"/LoopNation/#/"+s+"/"+t,children:Object(p.jsx)("h3",{children:n})}),Object(p.jsxs)("h3",{className:"grey-text",children:["by\xa0",Object(p.jsx)("a",{href:"/LoopNation/#/"+s,children:s})]})]})]}),Object(p.jsx)("div",{className:"",children:Object(p.jsxs)("button",{className:"heart-btn",onClick:function(e){if(console.log(J),g){var a=[].concat(Object(b.a)(v),[t]),c=Object(b.a)(m),n=Object(r.a)({},c[j]);if(v.includes(t)){n.likes=n.likes-1,c[j]=n,x(c);var s=Object(b.a)(v),i=s.indexOf(t);-1!==i&&s.splice(i,1),console.log(s),N(s),_.set({likes:Object(b.a)(s)}),W.update("likes",n.likes)}else n.likes=n.likes+1,c[j]=n,x(c),N(a),W.update("likes",n.likes),_.set({likes:a})}},children:[v.includes(t)?Object(p.jsx)("i",{className:"fas fa-heart fa-2x heart-black heart-red",ref:S}):Object(p.jsx)("i",{className:"fas fa-heart fa-2x heart-black",ref:S}),Object(p.jsx)("p",{children:f})]})})]})]})})})}var x=function(e){var t=e.results,a=e.setResults,n=e.profileInfo,s=Object(c.useState)([]),i=Object(l.a)(s,2),r=i[0],o=i[1];Object(c.useEffect)((function(){(console.log("useEffect"),console.log(n),n)&&d.collection("likes").doc(n.username).get().then((function(e){e.exists&&o(e.data().likes)}))}),[]),console.log(t);var j=t.map((function(e,c){return Object(p.jsx)(f,{id:e.id,index:c,url:e.url,name:e.name,author:e.author,genre:e.genre,audioKey:e.key,bpm:e.bpm,likes:e.likes,audioData:t,setAudioData:a,profileInfo:n,likesArray:r,setLikesArray:o,liked:r.includes(e.id)},c)}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"audio-page",children:t&&j})})},m=a(34);function g(e){var t=e.userObj,a=e.profileInfo,n=e.isLoggedIn,s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1],b=Object(c.useState)(),O=Object(l.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)("No Genre"),v=Object(l.a)(g,2),N=v[0],y=v[1],k=Object(c.useState)("No Key"),S=Object(l.a)(k,2),w=S[0],I=S[1],C=Object(c.useState)("No Scale"),D=Object(l.a)(C,2),F=D[0],L=D[1],A=Object(c.useState)("No BPM"),R=Object(l.a)(A,2),E=R[0],P=R[1],U=Object(c.useState)(""),z=Object(l.a)(U,2),B=z[0],M=z[1],T=Object(c.useState)(!1),G=Object(l.a)(T,2),H=G[0],K=G[1],J=Object(c.useState)("Select File"),_=Object(l.a)(J,2),W=_[0],q=_[1],V=Object(c.useState)(!1),Y=Object(l.a)(V,2),Z=Y[0],Q=Y[1],X=Object(c.useState)(0),$=Object(l.a)(X,2),ee=$[0],te=$[1],ae=Object(c.useState)([]),ce=Object(l.a)(ae,2),ne=ce[0],se=ce[1];return Object(p.jsx)(p.Fragment,{children:n?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"audio-page",children:o&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(x,{results:ne,setResults:se,profileInfo:a})})}),Object(p.jsxs)("form",{className:"upload-form",children:[!Z&&Object(p.jsxs)("label",{class:"custom-file-upload",children:[Object(p.jsx)("input",{type:"file",name:"audio-upload",accept:"audio/*",onChange:function(e){var t=e.target.files[0],a=t.size/1024/1024;console.log(a),a<=10?(K(!1),f(t),M(t.name),q(t.name)):K("file size must be less than 10MB")},className:"audio-upload",value:""}),W]}),H&&Object(p.jsx)("p",{children:H}),Object(p.jsx)("div",{className:"progress-bar",children:Object(p.jsx)("div",{className:"filler",style:{width:ee+"%"}})}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",value:B,onChange:function(e){e.preventDefault(),M(e.target.value)},placeholder:"Title"}),Object(p.jsxs)("div",{className:"two-column-form",children:[Object(p.jsx)("input",{type:"number",placeholder:"BPM",onChange:function(e){P(e.target.value)}}),Object(p.jsxs)("select",{name:"genre",onChange:function(e){y(e.target.value)},children:[Object(p.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Genre"}),Object(p.jsx)("option",{value:"Trap",children:"Trap"}),Object(p.jsx)("option",{value:"Hip-Hop",children:"Hip-Hop"}),Object(p.jsx)("option",{value:"House",children:"House"}),Object(p.jsx)("option",{value:"Jazz",children:"Jazz"})]})]}),Object(p.jsxs)("select",{name:"key",onChange:function(e){I(e.target.value)},children:[Object(p.jsx)("option",{value:"key",selected:!0,disabled:!0,hidden:!0,children:"Key"}),Object(p.jsx)("option",{value:"C",children:"C"}),Object(p.jsx)("option",{value:"C#",children:"C#"}),Object(p.jsx)("option",{value:"D",children:"D"}),Object(p.jsx)("option",{value:"D#",children:"D#"}),Object(p.jsx)("option",{value:"E",children:"E"}),Object(p.jsx)("option",{value:"F",children:"F"}),Object(p.jsx)("option",{value:"F#",children:"F#"}),Object(p.jsx)("option",{value:"G",children:"G"}),Object(p.jsx)("option",{value:"G#",children:"G#"}),Object(p.jsx)("option",{value:"A",children:"A"}),Object(p.jsx)("option",{value:"A#",children:"A#"}),Object(p.jsx)("option",{value:"B",children:"B"})]}),Object(p.jsxs)("select",{name:"scale",id:"",onChange:function(e){L(e.target.value)},children:[Object(p.jsx)("option",{value:"scale",selected:!0,disabled:!0,hidden:!0,children:"Scale"}),Object(p.jsx)("option",{value:"",children:"Major"}),Object(p.jsx)("option",{value:"m",children:"Minor"})]}),!Z&&Object(p.jsx)("input",{type:"submit",value:"upload",onClick:function(e){e.preventDefault(),console.log(e.target);var c=new FileReader;c.fileName=h.name,c.onload=function(e){var n=j.storage().ref().child("audios/"+B),s=n.putString(c.result,"data_url");s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),te(t)})),s.then((function(e){var c=Object(m.uuid)(),s=B.match(/\b[^\W]+\b/g).map((function(e){return e.toLowerCase()}));n.getDownloadURL().then((function(e){var n={id:c,url:e,name:B,authorID:t.user.uid,likes:0,genre:N,key:w,scale:F,bpm:E,keywords:s},i=Object(r.a)(Object(r.a)({},n),{},{author:a.username});console.log(i),se([i]),d.collection("audios").doc(c).set(n).then((function(e){console.log(e)})),u(e),Q(!0)}))}))},c.readAsDataURL(h)},className:"purple-btn"})]})]}):Object(p.jsx)("div",{className:"upload-form",children:Object(p.jsx)("p",{className:"center-text",children:"please log in to upload"})})})}function v(e){var t=e.profileInfo;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("a",{href:"/LoopNation/#/"+t.username,className:"purple-btn",children:t.username})})}function N(e){var t=e.isLoggedIn,a=e.profileInfo,c=e.setIsNewUser;return Object(p.jsxs)("nav",{children:[Object(p.jsx)("a",{href:"/LoopNation/#/",children:Object(p.jsx)("img",{src:"/LoopNation/loopnation logo-01.png",alt:""})}),Object(p.jsxs)("div",{className:"nav-btns",children:[Object(p.jsx)("a",{href:"/LoopNation/#/upload",children:"upload"}),a&&Object(p.jsx)(v,{profileInfo:a}),t?Object(p.jsx)("button",{className:"sign-in-btn",onClick:function(e){u.signOut().then((function(){console.log("sign out successful")}))},children:"logout"}):Object(p.jsx)("button",{className:"sign-in-btn",onClick:function(){var e=new j.auth.GoogleAuthProvider;u.signInWithPopup(e).then((function(e){e.additionalUserInfo.isNewUser?c(!0):c(!1)}))},children:"login"})]})]})}var y=a(6);var k=function(e){var t=e.userObj,a=e.setIsNewUser,n=e.setProfileInfo,s=Object(y.g)(),i=Object(c.useState)(""),r=Object(l.a)(i,2),o=r[0],j=r[1],u=Object(c.useState)(""),b=Object(l.a)(u,2),O=b[0],h=b[1],f=Object(c.useState)(""),x=Object(l.a)(f,2),m=x[0],g=x[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{action:"",className:"signup-form",children:[Object(p.jsx)("label",{htmlFor:"",children:"Display Name"}),Object(p.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),h(e.target.value)},value:O}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"",children:"Username"}),Object(p.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),j(e.target.value)},value:o}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"www."+window.location.hostname+".com/"+o}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"",children:"Bio"}),Object(p.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),g(e.target.value)},value:m,maxlength:"150"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"submit",value:"submit",className:"purple-btn",onClick:function(e){var c={username:o,displayName:O,bio:m,id:t.user.uid};e.preventDefault();var i=d.collection("users").doc(t.user.uid);d.collection("users").where("username","==",o).get().then((function(e){e.empty?i.set(c).then((function(){a(!1),n(c),console.log("Document successfully written!"),s.push("/")})):console.log("doc already exists")}))}})]})})};function S(e){var t=e.setResults,a=Object(c.useState)(),n=Object(l.a)(a,2),s=n[0],i=n[1],r=Object(c.useState)(),o=Object(l.a)(r,2),j=(o[0],o[1]);return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{action:"",className:"search-module ",children:[Object(p.jsx)("input",{type:"text",className:"search-bar shadow",placeholder:"search",onChange:function(e){i(e.target.value)}}),Object(p.jsx)("div",{className:"genre-select shadow",children:Object(p.jsxs)("select",{id:"myList",name:"genre",onChange:function(e){j(e.target.value)},children:[Object(p.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Genre"}),Object(p.jsx)("option",{value:"1",children:"Trap"}),Object(p.jsx)("option",{value:"2",children:"Hip-Hop"}),Object(p.jsx)("option",{value:"3",children:"House"}),Object(p.jsx)("option",{value:"4",children:"Jazz"})]})}),Object(p.jsx)("input",{className:"submit-btn purple-btn shadow",type:"button",value:"search",onClick:function(){var e=s.match(/\b[^\W]+\b/g);console.log(e),d.collection("audios").where("keywords","array-contains-any",e).limit(10).get().then((function(e){var a=[];e.docs.forEach((function(e){var c=e.data().authorID;d.collection("users").doc(c).get().then((function(c){var n=c.data().username,s={id:e.data().id,genre:e.data().genre,name:e.data().name,author:n,likes:e.data().likes,url:e.data().url,key:e.data().key,scale:e.data().scale,bpm:e.data().bpm};a=[].concat(Object(b.a)(a),[s]),t(a)}))}))}))}})]})})}function w(e){e.userObj;var t=e.profileInfo,a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],i=n[1];return Object(c.useEffect)((function(){var e=[];d.collection("audios").limit(10).get().then((function(t){t.forEach((function(t){var a=t.data().authorID;d.collection("users").doc(a).get().then((function(a){var c=a.data().username,n={id:t.data().id,genre:t.data().genre,name:t.data().name,author:c,likes:t.data().likes,url:t.data().url,key:t.data().key,scale:t.data().scale,bpm:t.data().bpm};e=[].concat(Object(b.a)(e),[n]),i(e)}))}))}))}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(S,{setResults:i}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(x,{results:s,setResults:i,profileInfo:t})]})}function I(e){var t=e.profileInfo,a=Object(c.useState)(!1),n=Object(l.a)(a,2),s=n[0],i=n[1],r=Object(y.h)(),o=r.userName,j=r.songID;return Object(c.useEffect)((function(){d.collection("audios").doc(j).get().then((function(e){d.collection("users").where("username","==",o).get().then((function(t){if(!t.empty){var a=t.docs[0].data().username,c={id:e.data().id,genre:e.data().genre,name:e.data().name,author:a,likes:e.data().likes,url:e.data().url,key:e.data().key,scale:e.data().scale,bpm:e.data().bpm};i([c])}}))}))}),[]),console.log(s),Object(p.jsx)("div",{className:"audio-page",children:s&&Object(p.jsx)(x,{results:s,setResults:i,profileInfo:t})})}var C=function(e){var t=e.userObj,a=e.profileData,n=e.setProfileData,s=e.setEditProfilePopup,i=Object(c.useState)(a.displayName),o=Object(l.a)(i,2),j=o[0],u=o[1],b=Object(c.useState)(a.bio),O=Object(l.a)(b,2),h=O[0],f=O[1];return Object(c.useEffect)((function(){}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"edit-profile-container",children:Object(p.jsxs)("form",{className:"edit-profile-form",children:[Object(p.jsx)("button",{onClick:function(e){e.preventDefault(),s(!1)},children:Object(p.jsx)("i",{className:"fas fa-times-circle fa-2x"})}),Object(p.jsx)("h3",{children:"Edit Profile"}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"Display Name :"}),Object(p.jsx)("input",{type:"text",placeholder:"Display Name",value:j,onChange:function(e){e.preventDefault(),u(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"Bio :"}),Object(p.jsx)("textarea",{rows:"5",cols:"25",maxLength:"150",placeholder:"Bio",value:h,onChange:function(e){e.preventDefault(),f(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"submit",value:"submit",className:"purple-btn",onClick:function(e){e.preventDefault();var c={displayName:j,bio:h};d.collection("users").doc(t.user.uid).update({displayName:j,bio:h}).then((function(){n(Object(r.a)(Object(r.a)({},a),c)),s(!1)}))}})]})})})},D=function(e){var t=e.profileInfo,a=e.userObj,n=Object(c.useState)([]),s=Object(l.a)(n,2),i=s[0],o=s[1],u=Object(c.useState)([]),O=Object(l.a)(u,2),h=O[0],f=O[1],m=Object(c.useState)(!1),g=Object(l.a)(m,2),v=g[0],N=g[1],k=Object(c.useState)(!1),S=Object(l.a)(k,2),w=S[0],I=S[1],D=Object(y.h)().profile;Object(c.useEffect)((function(){d.collection("users").where("username","==",D).get().then((function(e){if(!e.empty){var t=e.docs[0].data();o(t);var a=[];d.collection("audios").where("authorID","==",t.id).get().then((function(t){t.forEach((function(t){var c={id:t.data().id,genre:t.data().genre,name:t.data().name,author:e.docs[0].data().username,likes:t.data().likes,url:t.data().url,key:t.data().key,scale:t.data().scale,bpm:t.data().bpm};a=[].concat(Object(b.a)(a),[c])})),f(a),N(!0)}))}}))}),[]);return console.log(v),Object(p.jsx)(p.Fragment,{children:v&&Object(p.jsxs)(p.Fragment,{children:[w&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C,{userObj:a,profileData:i,setProfileData:o,setEditProfilePopup:I})}),Object(p.jsx)("div",{className:"profile-page",children:Object(p.jsxs)("header",{className:"header",children:[Object(p.jsxs)("div",{className:"profile-elements",children:[t.username==i.username?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"image-container",children:[Object(p.jsxs)("label",{class:"overlay",children:["Change Picture",Object(p.jsx)("input",{type:"file",name:"audio-upload",accept:"image/jpeg,image/x-png",className:"audio-upload",onChange:function(e){var t=e.target.files[0],c=t.size/1024/1024,n=t.name,s=j.storage().ref();(console.log(n),console.log(c),null!=i.coverFile)&&s.child(a.user.uid+"/picture/"+i.pictureFile).delete().then((function(){console.log("file deleted")}));if(c<5){var l=new FileReader;l.onload=function(e){var t=s.child(a.user.uid+"/picture/"+n);t.putString(l.result,"data_url").then((function(){t.getDownloadURL().then((function(e){d.collection("users").doc(a.user.uid).update("picture",e),o(Object(r.a)(Object(r.a)({},i),{},{picture:e,pictureFile:n}))}))}))},l.readAsDataURL(t)}}})]}),Object(p.jsx)("img",{src:i.picture||"/generic-dp.png",alt:"",className:"img-hover"})]})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"image-container",children:Object(p.jsx)("img",{src:i.picture||"/generic-dp.png",alt:"",className:"img-hover"})})}),Object(p.jsx)("div",{className:"profile-text",children:Object(p.jsx)("h3",{children:i.displayName})}),Object(p.jsx)("div",{className:"profile-text",children:Object(p.jsx)("p",{children:i.bio})})]}),t.username==i.username?Object(p.jsxs)("div",{className:"cover-container",children:[Object(p.jsxs)("div",{className:"cover-overlay",children:[Object(p.jsxs)("label",{children:["Change Cover",Object(p.jsx)("input",{type:"file",name:"audio-upload",accept:"image/jpeg,image/x-png",className:"audio-upload",onChange:function(e){var t=e.target.files[0],c=t.size/1024/1024,n=t.name,s=j.storage().ref();(console.log(n),console.log(c),null!=i.coverFile)&&s.child(a.user.uid+"/cover/"+i.coverFile).delete().then((function(){console.log("file deleted")}));if(c<5){var l=new FileReader;l.onload=function(e){var t=s.child(a.user.uid+"/cover/"+n);t.putString(l.result,"data_url").then((function(){t.getDownloadURL().then((function(e){d.collection("users").doc(a.user.uid).update({cover:e,coverFile:n}),o(Object(r.a)(Object(r.a)({},i),{},{cover:e,coverFile:n}))}))}))},l.readAsDataURL(t)}}})]}),Object(p.jsxs)("label",{children:["Edit Profile",Object(p.jsx)("button",{onClick:function(e){I(!w)}})]})]}),Object(p.jsx)("img",{className:"img-hover",src:i.cover})]}):Object(p.jsx)("div",{className:"cover-container",children:Object(p.jsx)("img",{className:"img-hover",src:i.cover||"/loopnation-cover.png"})})]})}),Object(p.jsx)("div",{className:"audio-page",children:Object(p.jsx)(x,{results:h,setResults:f,profileInfo:t})})]})})},F=a(19);var L=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(l.a)(s,2),r=i[0],o=i[1],j=Object(c.useState)(!1),b=Object(l.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(!1),x=Object(l.a)(f,2),m=x[0],v=x[1],S=Object(c.useState)(!1),C=Object(l.a)(S,2),L=C[0],A=C[1];return Object(c.useEffect)((function(){u.onAuthStateChanged((function(e){e?(o({user:e}),n(!0),d.collection("users").doc(e.uid).get().then((function(e){h(e.data()),A(!0)}))):(n(!1),A(!0))}))}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(N,{isLoggedIn:a,profileInfo:O,setIsNewUser:v}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),L&&Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(y.d,{children:[Object(p.jsx)(y.b,{exact:!0,path:"/",children:Object(p.jsx)(w,{profileInfo:O})}),Object(p.jsx)(y.b,{path:"/upload",children:Object(p.jsx)(g,{userObj:r,profileInfo:O,isLoggedIn:a})}),Object(p.jsx)(y.b,{path:"/sign-up",children:Object(p.jsx)(k,{userObj:r,isNewUser:m,setIsNewUser:v,setProfileInfo:h})}),Object(p.jsx)(y.b,{exact:!0,path:"/:profile",children:Object(p.jsx)(D,{userObj:r,profileInfo:O,isLoggedIn:a,setProfileInfo:h})}),Object(p.jsx)(y.b,{path:"/:userName/:songID",children:Object(p.jsx)(I,{profileInfo:O})})]}),m&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(y.a,{to:"/LoopNation/#/sign-up"})})]})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),A()}},[[51,1,2]]]);
//# sourceMappingURL=main.bfd1d183.chunk.js.map