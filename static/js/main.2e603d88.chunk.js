(this["webpackJsonploop-nation"]=this["webpackJsonploop-nation"]||[]).push([[0],{15:function(e,t,a){},40:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(31),o=a.n(s),i=(a(40),a(4)),l=(a(15),a(10)),r=a(22);a(41),a(54),a(53);r.a.initializeApp({apiKey:"AIzaSyAYNwuw2-lh9MA1gEkqN3x8llMTn-azEZc",authDomain:"loopnation.firebaseapp.com",projectId:"loopnation",storageBucket:"loopnation.appspot.com",messagingSenderId:"1033079666958",appId:"1:1:1033079666958:web:16a66ca9958daca1beff5f"});var j=r.a,u=r.a.auth(),d=r.a.firestore(),b=a(16),O=a(33),p=a.n(O),h=a(1);function f(e){var t=e.id,a=e.url,n=e.name,s=e.author,o=e.genre,r=e.bpm,j=e.index,u=e.audioKey,O=e.scale,f=e.likes,x=e.setAudioData,m=e.audioData,g=e.profileInfo,v=e.likesArray,N=e.setLikesArray,y=Object(c.useRef)(null),k=Object(c.useRef)(null),S=Object(c.useRef)(null),I=Object(c.useState)(!1),w=Object(i.a)(I,2),C=w[0],D=w[1],F=Object(c.useState)(.8),L=Object(i.a)(F,2),P=L[0],A=L[1],R=Object(c.useState)(),E=Object(i.a)(R,2),U=E[0],z=E[1],B=Object(c.useState)(),M=Object(i.a)(B,2),T=M[0],G=M[1],H=Object(c.useState)(!1),K=Object(i.a)(H,2),J=K[0],_=(K[1],d.collection("likes").doc(g.username)),W=d.collection("audios").doc(t);Object(c.useEffect)((function(){D(!1);var e={container:y.current,waveColor:"white",progressColor:"#296C96",barWidth:2,barRadius:1,barGap:2,responsive:!0,height:80,normalize:!0,partialRender:!0};k.current=p.a.create(e),k.current.load(a),k.current.on("ready",(function(){if(k.current){k.current.setVolume(P),A(P),z(t(k.current.getDuration()));var e=t(k.current.getCurrentTime());G(e)}})),k.current.on("audioprocess",(function(){if(k.current){var e=t(k.current.getCurrentTime());G(e)}}));var t=function(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return("0"+t).slice(-2)+":"+("0"+a).slice(-2)};return k.current.on("finish",(function(){D(!1)})),function(){return k.current.destroy()}}),[a]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"player-shadow",children:Object(h.jsxs)("div",{className:"player-bg",children:[Object(h.jsxs)("div",{className:"player-main",children:[Object(h.jsxs)("div",{className:"player",children:[Object(h.jsx)("div",{className:"controls",children:Object(h.jsx)("button",{onClick:function(){D(!C),k.current.playPause()},onBlur:function(){D(!1),k.current.pause()},children:C?Object(h.jsx)("i",{className:"fas fa-pause-circle fa-3x"}):Object(h.jsx)("i",{className:"fas fa-play-circle fa-3x"})})}),Object(h.jsx)("div",{id:"waveform",ref:y}),Object(h.jsx)("a",{href:a,target:"_blank",download:n,children:Object(h.jsx)("button",{className:"controls download-btn",children:Object(h.jsx)("i",{className:"fas fa-arrow-alt-circle-down fa-2x"})})})]}),Object(h.jsxs)("div",{className:"genre",children:[Object(h.jsx)("p",{children:T}),Object(h.jsx)("p",{children:o}),Object(h.jsx)("p",{children:U})]})]}),Object(h.jsxs)("div",{className:"player-info",children:[Object(h.jsxs)("div",{className:"player-text",children:[Object(h.jsxs)("div",{className:"audio-tags",children:["No Key"==u?"":Object(h.jsx)("h3",{children:u+(O||"")}),Object(h.jsx)("h3",{children:r+" BPM"})]}),Object(h.jsxs)("div",{className:"title-author",children:[Object(h.jsx)("a",{href:"".concat("/LoopNation","/").concat(s,"/").concat(t),children:Object(h.jsx)("h3",{children:n})}),Object(h.jsxs)("h3",{className:"grey-text",children:["by\xa0",Object(h.jsx)("a",{href:"".concat("/LoopNation","/").concat(s),children:s})]})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("button",{className:"heart-btn",onClick:function(e){if(console.log(J),g){var a=[].concat(Object(b.a)(v),[t]),c=Object(b.a)(m),n=Object(l.a)({},c[j]);if(v.includes(t)){n.likes=n.likes-1,c[j]=n,x(c);var s=Object(b.a)(v),o=s.indexOf(t);-1!==o&&s.splice(o,1),console.log(s),N(s),_.set({likes:Object(b.a)(s)}),W.update("likes",n.likes)}else n.likes=n.likes+1,c[j]=n,x(c),N(a),W.update("likes",n.likes),_.set({likes:a})}},children:[v.includes(t)?Object(h.jsx)("i",{className:"fas fa-heart fa-2x heart-black heart-red",ref:S}):Object(h.jsx)("i",{className:"fas fa-heart fa-2x heart-black",ref:S}),Object(h.jsx)("p",{children:f})]})})]})]})})})}var x=function(e){var t=e.results,a=e.setResults,n=e.profileInfo,s=Object(c.useState)([]),o=Object(i.a)(s,2),l=o[0],r=o[1];Object(c.useEffect)((function(){n&&d.collection("likes").doc(n.username).get().then((function(e){e.exists&&r(e.data().likes)}))}),[]);var j=t.map((function(e,c){return Object(h.jsx)(f,{id:e.id,index:c,url:e.url,name:e.name,author:e.author,genre:e.genre,audioKey:e.key,bpm:e.bpm,likes:e.likes,audioData:t,setAudioData:a,profileInfo:n,likesArray:l,setLikesArray:r,liked:l.includes(e.id)},c)}));return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"audio-page",children:t&&j})})},m=a(34);function g(e){var t=e.userObj,a=e.profileInfo,n=e.isLoggedIn,s=Object(c.useState)(!1),o=Object(i.a)(s,2),r=o[0],u=o[1],b=Object(c.useState)(),O=Object(i.a)(b,2),p=O[0],f=O[1],g=Object(c.useState)("No Genre"),v=Object(i.a)(g,2),N=v[0],y=v[1],k=Object(c.useState)("No Key"),S=Object(i.a)(k,2),I=S[0],w=S[1],C=Object(c.useState)("No Scale"),D=Object(i.a)(C,2),F=D[0],L=D[1],P=Object(c.useState)("No BPM"),A=Object(i.a)(P,2),R=A[0],E=A[1],U=Object(c.useState)(""),z=Object(i.a)(U,2),B=z[0],M=z[1],T=Object(c.useState)(!1),G=Object(i.a)(T,2),H=G[0],K=G[1],J=Object(c.useState)("Select File"),_=Object(i.a)(J,2),W=_[0],q=_[1],V=Object(c.useState)(!1),Y=Object(i.a)(V,2),Z=Y[0],Q=Y[1],X=Object(c.useState)(0),$=Object(i.a)(X,2),ee=$[0],te=$[1],ae=Object(c.useState)([]),ce=Object(i.a)(ae,2),ne=ce[0],se=ce[1];return Object(h.jsx)(h.Fragment,{children:n?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"audio-page",children:r&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(x,{results:ne,setResults:se,profileInfo:a})})}),Object(h.jsxs)("form",{className:"upload-form",children:[!Z&&Object(h.jsxs)("label",{class:"custom-file-upload",children:[Object(h.jsx)("input",{type:"file",name:"audio-upload",accept:"audio/*",onChange:function(e){var t=e.target.files[0],a=t.size/1024/1024;console.log(a),a<=10?(K(!1),f(t),M(t.name),q(t.name)):K("file size must be less than 10MB")},className:"audio-upload",value:""}),W]}),H&&Object(h.jsx)("p",{children:H}),Object(h.jsx)("div",{className:"progress-bar",children:Object(h.jsx)("div",{className:"filler",style:{width:ee+"%"}})}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",value:B,onChange:function(e){e.preventDefault(),M(e.target.value)},placeholder:"Title"}),Object(h.jsxs)("div",{className:"two-column-form",children:[Object(h.jsx)("input",{type:"number",placeholder:"BPM",onChange:function(e){E(e.target.value)}}),Object(h.jsxs)("select",{name:"genre",onChange:function(e){y(e.target.value)},children:[Object(h.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Genre"}),Object(h.jsx)("option",{value:"Trap",children:"Trap"}),Object(h.jsx)("option",{value:"Hip-Hop",children:"Hip-Hop"}),Object(h.jsx)("option",{value:"House",children:"House"}),Object(h.jsx)("option",{value:"Jazz",children:"Jazz"})]})]}),Object(h.jsxs)("select",{name:"key",onChange:function(e){w(e.target.value)},children:[Object(h.jsx)("option",{value:"key",selected:!0,disabled:!0,hidden:!0,children:"Key"}),Object(h.jsx)("option",{value:"C",children:"C"}),Object(h.jsx)("option",{value:"C#",children:"C#"}),Object(h.jsx)("option",{value:"D",children:"D"}),Object(h.jsx)("option",{value:"D#",children:"D#"}),Object(h.jsx)("option",{value:"E",children:"E"}),Object(h.jsx)("option",{value:"F",children:"F"}),Object(h.jsx)("option",{value:"F#",children:"F#"}),Object(h.jsx)("option",{value:"G",children:"G"}),Object(h.jsx)("option",{value:"G#",children:"G#"}),Object(h.jsx)("option",{value:"A",children:"A"}),Object(h.jsx)("option",{value:"A#",children:"A#"}),Object(h.jsx)("option",{value:"B",children:"B"})]}),Object(h.jsxs)("select",{name:"scale",id:"",onChange:function(e){L(e.target.value)},children:[Object(h.jsx)("option",{value:"scale",selected:!0,disabled:!0,hidden:!0,children:"Scale"}),Object(h.jsx)("option",{value:"",children:"Major"}),Object(h.jsx)("option",{value:"m",children:"Minor"})]}),!Z&&Object(h.jsx)("input",{type:"submit",value:"upload",onClick:function(e){e.preventDefault(),console.log(e.target);var c=new FileReader;c.fileName=p.name,c.onload=function(e){var n=j.storage().ref().child("audios/"+B),s=n.putString(c.result,"data_url");s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),te(t)})),s.then((function(e){var c=Object(m.uuid)(),s=B.match(/\b[^\W]+\b/g).map((function(e){return e.toLowerCase()}));n.getDownloadURL().then((function(e){var n={id:c,url:e,name:B,authorID:t.user.uid,likes:0,genre:N,key:I,scale:F,bpm:R,keywords:s},o=Object(l.a)(Object(l.a)({},n),{},{author:a.username});console.log(o),se([o]),d.collection("audios").doc(c).set(n).then((function(e){console.log(e)})),u(e),Q(!0)}))}))},c.readAsDataURL(p)},className:"purple-btn"})]})]}):Object(h.jsx)("div",{className:"upload-form",children:Object(h.jsx)("p",{className:"center-text",children:"please log in to upload"})})})}function v(e){var t=e.profileInfo;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("a",{href:"".concat("/LoopNation","/").concat(t.username),className:"purple-btn",children:t.username})})}var N=a(18),y=a(6);function k(e){var t=e.isLoggedIn,a=e.profileInfo,n=e.setIsNewUser,s=e.setProfileInfo,o=Object(c.useState)(!1),l=Object(i.a)(o,2),r=l[0],d=l[1];return console.log("/LoopNation"),Object(h.jsxs)("nav",{children:[Object(h.jsx)("a",{href:"".concat("/LoopNation","/"),children:Object(h.jsx)("img",{src:"/LoopNation/loopnation logo-01.png",alt:""})}),Object(h.jsxs)("div",{className:"nav-btns",children:[Object(h.jsx)("a",{href:"".concat("/LoopNation","/upload"),children:"upload"}),a&&Object(h.jsx)(v,{profileInfo:a}),t?Object(h.jsx)("button",{className:"sign-in-btn",onClick:function(e){u.signOut().then((function(){console.log("sign out successful"),s(!1),d(!0)}))},children:"logout"}):Object(h.jsx)("button",{className:"sign-in-btn",onClick:function(){var e=new j.auth.GoogleAuthProvider;u.signInWithPopup(e).then((function(e){e.additionalUserInfo.isNewUser?n(!0):n(!1)}))},children:"login"}),r&&Object(h.jsx)(N.a,{basename:"/LoopNation",children:Object(h.jsx)(y.a,{to:"/"})})]})]})}var S=function(e){var t=e.userObj,a=e.setIsNewUser,n=e.setProfileInfo,s=Object(y.g)(),o=Object(c.useState)(""),l=Object(i.a)(o,2),r=l[0],j=l[1],u=Object(c.useState)(""),b=Object(i.a)(u,2),O=b[0],p=b[1],f=Object(c.useState)(""),x=Object(i.a)(f,2),m=x[0],g=x[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{action:"",className:"signup-form",children:[Object(h.jsx)("label",{htmlFor:"",children:"Display Name"}),Object(h.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),p(e.target.value)},value:O}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{htmlFor:"",children:"Username"}),Object(h.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),j(e.target.value)},value:r}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"www.".concat(window.location.hostname,".com").concat("/LoopNation","/").concat(r)}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{htmlFor:"",children:"Bio"}),Object(h.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),g(e.target.value)},value:m,maxlength:"150"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"submit",className:"purple-btn",onClick:function(e){var c={username:r,displayName:O,bio:m,id:t.user.uid};e.preventDefault();var o=d.collection("users").doc(t.user.uid);d.collection("users").where("username","==",r).get().then((function(e){e.empty?o.set(c).then((function(){a(!1),n(c),console.log("Document successfully written!"),s.push("/")})):console.log("doc already exists")}))}})]})})};function I(e){var t=e.setResults,a=Object(c.useState)(),n=Object(i.a)(a,2),s=n[0],o=n[1],l=Object(c.useState)(),r=Object(i.a)(l,2),j=(r[0],r[1]);return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{action:"",className:"search-module ",children:[Object(h.jsx)("input",{type:"text",className:"search-bar shadow",placeholder:"search",onChange:function(e){o(e.target.value)}}),Object(h.jsx)("div",{className:"genre-select shadow",children:Object(h.jsxs)("select",{id:"myList",name:"genre",onChange:function(e){j(e.target.value)},children:[Object(h.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Genre"}),Object(h.jsx)("option",{value:"1",children:"Trap"}),Object(h.jsx)("option",{value:"2",children:"Hip-Hop"}),Object(h.jsx)("option",{value:"3",children:"House"}),Object(h.jsx)("option",{value:"4",children:"Jazz"})]})}),Object(h.jsx)("input",{className:"submit-btn purple-btn shadow",type:"button",value:"search",onClick:function(){var e=s.match(/\b[^\W]+\b/g);console.log(e),d.collection("audios").where("keywords","array-contains-any",e).limit(10).get().then((function(e){var a=[];e.docs.forEach((function(e){var c=e.data().authorID;d.collection("users").doc(c).get().then((function(c){var n=c.data().username,s={id:e.data().id,genre:e.data().genre,name:e.data().name,author:n,likes:e.data().likes,url:e.data().url,key:e.data().key,scale:e.data().scale,bpm:e.data().bpm};a=[].concat(Object(b.a)(a),[s]),t(a)}))}))}))}})]})})}function w(e){e.userObj;var t=e.profileInfo,a=Object(c.useState)([]),n=Object(i.a)(a,2),s=n[0],o=n[1];return Object(c.useEffect)((function(){var e=[];d.collection("audios").limit(10).get().then((function(t){t.forEach((function(t){var a=t.data().authorID;d.collection("users").doc(a).get().then((function(a){var c=a.data().username,n={id:t.data().id,genre:t.data().genre,name:t.data().name,author:c,likes:t.data().likes,url:t.data().url,key:t.data().key,scale:t.data().scale,bpm:t.data().bpm};e=[].concat(Object(b.a)(e),[n]),o(e)}))}))}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(I,{setResults:o}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(x,{results:s,setResults:o,profileInfo:t})]})}function C(e){var t=e.profileInfo,a=Object(c.useState)(!1),n=Object(i.a)(a,2),s=n[0],o=n[1],l=Object(y.h)(),r=l.userName,j=l.songID;return Object(c.useEffect)((function(){d.collection("audios").doc(j).get().then((function(e){d.collection("users").where("username","==",r).get().then((function(t){if(!t.empty){var a=t.docs[0].data().username,c={id:e.data().id,genre:e.data().genre,name:e.data().name,author:a,likes:e.data().likes,url:e.data().url,key:e.data().key,scale:e.data().scale,bpm:e.data().bpm};o([c])}}))}))}),[]),console.log(s),Object(h.jsx)("div",{className:"audio-page",children:s&&Object(h.jsx)(x,{results:s,setResults:o,profileInfo:t})})}var D=function(e){var t=e.userObj,a=e.profileData,n=e.setProfileData,s=e.setEditProfilePopup,o=Object(c.useState)(a.displayName),r=Object(i.a)(o,2),j=r[0],u=r[1],b=Object(c.useState)(a.bio),O=Object(i.a)(b,2),p=O[0],f=O[1];return Object(c.useEffect)((function(){}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"edit-profile-container",children:Object(h.jsxs)("form",{className:"edit-profile-form",children:[Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),s(!1)},children:Object(h.jsx)("i",{className:"fas fa-times-circle fa-2x"})}),Object(h.jsx)("h3",{children:"Edit Profile"}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Display Name :"}),Object(h.jsx)("input",{type:"text",placeholder:"Display Name",value:j,onChange:function(e){e.preventDefault(),u(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Bio :"}),Object(h.jsx)("textarea",{rows:"5",cols:"25",maxLength:"150",placeholder:"Bio",value:p,onChange:function(e){e.preventDefault(),f(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"submit",className:"purple-btn",onClick:function(e){e.preventDefault();var c={displayName:j,bio:p};d.collection("users").doc(t.user.uid).update({displayName:j,bio:p}).then((function(){n(Object(l.a)(Object(l.a)({},a),c)),s(!1)}))}})]})})})},F=function(e){var t=e.profileInfo,a=e.userObj,n=Object(c.useState)([]),s=Object(i.a)(n,2),o=s[0],r=s[1],u=Object(c.useState)([]),O=Object(i.a)(u,2),p=O[0],f=O[1],m=Object(c.useState)(!1),g=Object(i.a)(m,2),v=g[0],N=g[1],k=Object(c.useState)(!1),S=Object(i.a)(k,2),I=S[0],w=S[1],C=Object(y.h)().profile;Object(c.useEffect)((function(){d.collection("users").where("username","==",C).get().then((function(e){if(!e.empty){var t=e.docs[0].data();r(t);var a=[];d.collection("audios").where("authorID","==",t.id).get().then((function(t){t.forEach((function(t){var c={id:t.data().id,genre:t.data().genre,name:t.data().name,author:e.docs[0].data().username,likes:t.data().likes,url:t.data().url,key:t.data().key,scale:t.data().scale,bpm:t.data().bpm};a=[].concat(Object(b.a)(a),[c])})),f(a),N(!0)}))}}))}),[]);return console.log(v),Object(h.jsx)(h.Fragment,{children:v&&Object(h.jsxs)(h.Fragment,{children:[I&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(D,{userObj:a,profileData:o,setProfileData:r,setEditProfilePopup:w})}),Object(h.jsx)("div",{className:"profile-page",children:Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("div",{className:"profile-elements",children:[t.username==o.username?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"image-container",children:[Object(h.jsxs)("label",{class:"overlay",children:["Change Picture",Object(h.jsx)("input",{type:"file",name:"audio-upload",accept:"image/jpeg,image/x-png",className:"audio-upload",onChange:function(e){var t=e.target.files[0],c=t.size/1024/1024,n=t.name,s=j.storage().ref();(console.log(n),console.log(c),null!=o.coverFile)&&s.child(a.user.uid+"/picture/"+o.pictureFile).delete().then((function(){console.log("file deleted")}));if(c<5){var i=new FileReader;i.onload=function(e){var t=s.child(a.user.uid+"/picture/"+n);t.putString(i.result,"data_url").then((function(){t.getDownloadURL().then((function(e){d.collection("users").doc(a.user.uid).update("picture",e),r(Object(l.a)(Object(l.a)({},o),{},{picture:e,pictureFile:n}))}))}))},i.readAsDataURL(t)}}})]}),Object(h.jsx)("img",{src:o.picture||"/LoopNation/generic-dp.png",alt:"",className:"img-hover"})]})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"image-container",children:Object(h.jsx)("img",{src:o.picture||"/LoopNation/generic-dp.png",alt:"",className:"img-hover"})})}),Object(h.jsx)("div",{className:"profile-text",children:Object(h.jsx)("h3",{children:o.displayName})}),Object(h.jsx)("div",{className:"profile-text",children:Object(h.jsx)("p",{children:o.bio})})]}),t.username==o.username?Object(h.jsxs)("div",{className:"cover-container",children:[Object(h.jsxs)("div",{className:"cover-overlay",children:[Object(h.jsxs)("label",{children:["Change Cover",Object(h.jsx)("input",{type:"file",name:"audio-upload",accept:"image/jpeg,image/x-png",className:"audio-upload",onChange:function(e){var t=e.target.files[0],c=t.size/1024/1024,n=t.name,s=j.storage().ref();(console.log(n),console.log(c),null!=o.coverFile)&&s.child(a.user.uid+"/cover/"+o.coverFile).delete().then((function(){console.log("file deleted")}));if(c<5){var i=new FileReader;i.onload=function(e){var t=s.child(a.user.uid+"/cover/"+n);t.putString(i.result,"data_url").then((function(){t.getDownloadURL().then((function(e){d.collection("users").doc(a.user.uid).update({cover:e,coverFile:n}),r(Object(l.a)(Object(l.a)({},o),{},{cover:e,coverFile:n}))}))}))},i.readAsDataURL(t)}}})]}),Object(h.jsxs)("label",{children:["Edit Profile",Object(h.jsx)("button",{onClick:function(e){w(!I)}})]})]}),Object(h.jsx)("img",{className:"img-hover",src:o.cover||"/LoopNation/loopnation-cover.png"})]}):Object(h.jsx)("div",{className:"cover-container",children:Object(h.jsx)("img",{className:"img-hover",src:o.cover||"/LoopNation/loopnation-cover.png"})})]})}),Object(h.jsx)("div",{className:"audio-page",children:Object(h.jsx)(x,{results:p,setResults:f,profileInfo:t})})]})})};var L=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),l=o[0],r=o[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),O=b[0],p=b[1],f=Object(c.useState)(!1),x=Object(i.a)(f,2),m=x[0],v=x[1],I=Object(c.useState)(!1),D=Object(i.a)(I,2),L=D[0],P=D[1];return Object(c.useEffect)((function(){P(!1),u.onAuthStateChanged((function(e){e?(r({user:e}),n(!0),d.collection("users").doc(e.uid).get().then((function(e){p(e.data()),P(!0)}))):(n(!1),P(!0))}))}),[]),Object(h.jsx)("div",{className:"App",children:L&&Object(h.jsxs)(N.b,{basename:"/LoopNation",children:[Object(h.jsx)(k,{isLoggedIn:a,profileInfo:O,setIsNewUser:v,setProfileInfo:p}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(y.d,{children:[Object(h.jsx)(y.b,{exact:!0,path:"/",children:Object(h.jsx)(w,{profileInfo:O})}),Object(h.jsx)(y.b,{path:"/upload",children:Object(h.jsx)(g,{userObj:l,profileInfo:O,isLoggedIn:a})}),Object(h.jsx)(y.b,{path:"/sign-up",children:Object(h.jsx)(S,{userObj:l,isNewUser:m,setIsNewUser:v,setProfileInfo:p})}),Object(h.jsx)(y.b,{exact:!0,path:"/:profile",children:Object(h.jsx)(F,{userObj:l,profileInfo:O,isLoggedIn:a,setProfileInfo:p})}),Object(h.jsx)(y.b,{path:"/:userName/:songID",children:Object(h.jsx)(C,{profileInfo:O})})]}),m&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.a,{to:"/sign-up"})})]})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),s(e),o(e)}))};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),P()}},[[51,1,2]]]);
//# sourceMappingURL=main.2e603d88.chunk.js.map